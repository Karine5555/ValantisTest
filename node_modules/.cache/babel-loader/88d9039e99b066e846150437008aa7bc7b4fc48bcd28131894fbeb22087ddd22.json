{"ast":null,"code":"import logo from\"./logo.svg\";import\"./App.css\";import api from\"./api.service\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[products,setProducts]=useState([]);const[filters,setFilters]=useState({});const[page,setPage]=useState(1);const limit=5;useEffect(()=>{api.filterProducts({offset:(page-1)*limit,limit},filters).then(_ref=>{let{result}=_ref;setProducts(result);});},[page,filters]);const applyFilter=$event=>{setFilters({...filters,...{[$event.target.name]:$event.target.name==='price'?parseFloat($event.target.value):$event.target.value}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Test\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0446\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0431\\u0440\\u0435\\u043D\\u0434\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"filter\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"id\",name:\"product\",onChange:applyFilter,size:\"10\",placeholder:\"\\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"id\",name:\"price\",onChange:applyFilter,size:\"10\",placeholder:\"\\u0446\\u0435\\u043D\\u0430\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"id\",name:\"brand\",onChange:applyFilter,size:\"10\",placeholder:\"\\u0431\\u0440\\u0435\\u043D\\u0434\"})})]}),products.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.product}),/*#__PURE__*/_jsx(\"td\",{children:item.price}),/*#__PURE__*/_jsx(\"td\",{children:item.brand})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-block\",children:[page>1?/*#__PURE__*/_jsx(\"div\",{onClick:()=>{setPage(page-1);},className:\"button-div\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Prev\"})}):null,/*#__PURE__*/_jsx(\"div\",{onClick:()=>{setPage(page+1);},className:\"button-div\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Next\"})})]})]});}export default App;","map":{"version":3,"names":["logo","api","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","products","setProducts","filters","setFilters","page","setPage","limit","filterProducts","offset","then","_ref","result","applyFilter","$event","target","name","parseFloat","value","className","children","type","id","onChange","size","placeholder","map","item","product","price","brand","onClick"],"sources":["/Users/karina/Desktop/ValantisTest/src/App.js"],"sourcesContent":["import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport api from \"./api.service\";\nimport { useState, useEffect } from \"react\";\n\nfunction App() {\n  const [products, setProducts] = useState([]);\n  const [filters, setFilters] = useState({});\n  const [page, setPage] = useState(1);\n  const limit = 5;\n\n  useEffect(() => {\n    api.filterProducts({ offset: (page - 1) * limit, limit }, filters).then(({result}) => {\n      setProducts(result);\n    });\n  }, [page, filters]);\n\n  const applyFilter = ($event) => {\n    setFilters({...filters, ...{[$event.target.name]: $event.target.name === 'price' ? parseFloat($event.target.value) : $event.target.value}})\n  }\n\n  return (\n    <div className=\"App\">\n      <h2>Test</h2>\n      <table>\n        <tr>\n          <th>id</th>\n          <th>названи</th>\n          <th>цена</th>\n          <th>бренд</th>\n        </tr>\n        <tr>\n          <td>filter</td>\n          <td>\n            <input\n              type=\"text\"\n              id=\"id\"\n              name=\"product\"\n              onChange={applyFilter}\n              size=\"10\"\n              placeholder=\"названи\"\n            />\n          </td>\n          <td>\n            <input\n              type=\"text\"\n              id=\"id\"\n              name=\"price\"\n              onChange={applyFilter}\n              size=\"10\"\n              placeholder=\"цена\"\n            />\n          </td>\n          <td>\n            <input\n              type=\"text\"\n              id=\"id\"\n              name=\"brand\"\n              onChange={applyFilter}\n              size=\"10\"\n              placeholder=\"бренд\"\n            />\n          </td>\n        </tr>\n        {products.map(item => (\n          <tr>\n          <td>{ item.id }</td>\n          <td>{ item.product }</td>\n          <td>{ item.price }</td>\n          <td>{ item.brand }</td>\n        </tr>\n        ))}\n      </table>\n      <div className=\"button-block\">\n        {page > 1 ? <div onClick={() => {setPage(page - 1)}} className=\"button-div\">\n          <p>Prev</p>\n        </div> : null}\n        <div onClick={() => {setPage(page + 1)}} className=\"button-div\">\n          <p>Next</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}